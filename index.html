<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scratch Valentine</title>
<style>
Â  body {
Â  Â  margin: 0;
Â  Â  height: 100vh;
Â  Â  display: flex;
Â  Â  justify-content: center;
Â  Â  align-items: center;
Â  Â  background: linear-gradient(135deg, #ff6ec4, #7873f5);
Â  Â  font-family: 'Arial', sans-serif;
Â  }
Â  #container {
Â  Â  position: relative;
Â  Â  width: 400px;
Â  Â  height: 700px;
Â  Â  border-radius: 20px;
Â  Â  overflow: hidden;
Â  Â  box-shadow: 0 0 30px rgba(0,0,0,0.4);
Â  }
Â  canvas {
Â  Â  position: absolute;
Â  Â  top: 0;
Â  Â  left: 0;
Â  }
</style>
</head>
<body>

<div id="container">
Â  <canvas id="messageCanvas" width="400" height="700"></canvas>
Â  <canvas id="overlayCanvas" width="400" height="700"></canvas>
</div>

<script>
const messageCanvas = document.getElementById('messageCanvas');
const mCtx = messageCanvas.getContext('2d');

const overlayCanvas = document.getElementById('overlayCanvas');
const oCtx = overlayCanvas.getContext('2d');

// Draw message
mCtx.fillStyle = '#fff';
mCtx.fillRect(0,0,messageCanvas.width,messageCanvas.height);
mCtx.fillStyle = '#ff1493';
mCtx.font = "30px Arial";
mCtx.textAlign = "center";
mCtx.textBaseline = "middle";
mCtx.fillText("ðŸ’– Will you be my Valentine? ðŸ’–", messageCanvas.width/2, messageCanvas.height/2);

// Draw overlay
const gradient = oCtx.createLinearGradient(0,0,overlayCanvas.width,overlayCanvas.height);
gradient.addColorStop(0,'#ff69b4');
gradient.addColorStop(1,'#ffb347');
oCtx.fillStyle = gradient;
oCtx.fillRect(0,0,overlayCanvas.width,overlayCanvas.height);

// Overlay text
oCtx.fillStyle = '#fff';
oCtx.font = "26px Arial";
oCtx.textAlign = "center";
oCtx.textBaseline = "middle";
oCtx.fillText("Scratch to reveal!", overlayCanvas.width/2, overlayCanvas.height/2);

let isDrawing = false;
let lastPos = {x:0,y:0};

function getPos(e){
Â  Â  const rect = overlayCanvas.getBoundingClientRect();
Â  Â  return {
Â  Â  Â  Â  x: (e.touches ? e.touches[0].clientX : e.clientX) - rect.left,
Â  Â  Â  Â  y: (e.touches ? e.touches[0].clientY : e.clientY) - rect.top
Â  Â  };
}

function startDraw(e){
Â  Â  e.preventDefault();
Â  Â  isDrawing = true;
Â  Â  lastPos = getPos(e);
}

function endDraw(e){
Â  Â  e.preventDefault();
Â  Â  isDrawing = false;
}

function draw(e){
Â  Â  if(!isDrawing) return;
Â  Â  const pos = getPos(e);
Â  Â  oCtx.globalCompositeOperation = 'destination-out';
Â  Â  oCtx.lineWidth = 25;Â 
Â  Â  oCtx.lineCap = 'round';
Â  Â  oCtx.beginPath();
Â  Â  oCtx.moveTo(lastPos.x,lastPos.y);
Â  Â  oCtx.lineTo(pos.x,pos.y);
Â  Â  oCtx.stroke();
Â  Â  lastPos = pos;
}

// Events
overlayCanvas.addEventListener('mousedown', startDraw);
overlayCanvas.addEventListener('mousemove', draw);
overlayCanvas.addEventListener('mouseup', endDraw);
overlayCanvas.addEventListener('mouseleave', endDraw);
overlayCanvas.addEventListener('touchstart', startDraw);
overlayCanvas.addEventListener('touchmove', draw);
overlayCanvas.addEventListener('touchend', endDraw);
overlayCanvas.addEventListener('touchcancel', endDraw);

</script>
</body>
</html>
